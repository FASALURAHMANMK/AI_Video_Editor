{"ast":null,"code":"var _jsxFileName = \"/Users/niju/Desktop/Projects/AI_Video_Editor/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport VideoSearchForm from './components/VideoSearchForm';\nimport SnippetEditor from './components/SnippetEditor';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\n// A simple full-screen overlay spinner.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoadingOverlay() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-border text-light\",\n      role: \"status\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"visually-hidden\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n}\n_c = LoadingOverlay;\nfunction App() {\n  _s();\n  const [youtubeUrl, setYoutubeUrl] = useState('');\n  const [chunks, setChunks] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [snippets, setSnippets] = useState([]);\n  const [refinedOrder, setRefinedOrder] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [videoPath, setVideoPath] = useState(null);\n  const [error, setError] = useState(null);\n\n  // Track the current step to guide the user through the flow.\n  const [currentStep, setCurrentStep] = useState(1);\n\n  // Refs for auto-focusing the next action button/section.\n  const searchButtonRef = useRef(null);\n  const refineButtonRef = useRef(null);\n  const createVideoButtonRef = useRef(null);\n  const downloadButtonRef = useRef(null);\n\n  // Focus logic: whenever currentStep changes AND we're not loading, focus the next button.\n  useEffect(() => {\n    var _searchButtonRef$curr, _refineButtonRef$curr, _createVideoButtonRef, _downloadButtonRef$cu;\n    if (!loading) {\n      switch (currentStep) {\n        case 2:\n          // Focus the \"Search\" button in Step 2\n          (_searchButtonRef$curr = searchButtonRef.current) === null || _searchButtonRef$curr === void 0 ? void 0 : _searchButtonRef$curr.focus();\n          break;\n        case 3:\n          // Focus the \"Refine\" button in Step 3\n          (_refineButtonRef$curr = refineButtonRef.current) === null || _refineButtonRef$curr === void 0 ? void 0 : _refineButtonRef$curr.focus();\n          break;\n        case 4:\n          // Focus the \"Create Video\" button in Step 4 (within the SnippetEditor)\n          (_createVideoButtonRef = createVideoButtonRef.current) === null || _createVideoButtonRef === void 0 ? void 0 : _createVideoButtonRef.focus();\n          break;\n        case 5:\n          // Focus the \"Download\" link/button in Step 5\n          (_downloadButtonRef$cu = downloadButtonRef.current) === null || _downloadButtonRef$cu === void 0 ? void 0 : _downloadButtonRef$cu.focus();\n          break;\n        default:\n          break;\n      }\n    }\n  }, [currentStep, loading]);\n  const handleFetchChunks = async url => {\n    try {\n      setYoutubeUrl(url);\n      setLoading(true);\n      setError(null);\n      setSnippets([]);\n      setVideoPath(null);\n      const response = await axios.post('http://localhost:5001/api/transcript-chunks', {\n        youtubeUrl: url,\n        maxChunkSize: 200\n      });\n      if (response.data.error) {\n        setError(response.data.error);\n      } else {\n        setChunks(response.data.chunks);\n        toast.success('Transcript chunks fetched successfully!');\n        setCurrentStep(2); // Move to step 2: searching in transcript\n      }\n    } catch (err) {\n      toast.error('Failed to fetch transcript chunks.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSearch = async (query, topK = 5) => {\n    if (!chunks.length) return;\n    try {\n      setSearchQuery(query);\n      setLoading(true);\n      setError(null);\n      setVideoPath(null);\n      const resp = await axios.post('http://localhost:5001/api/search-snippets', {\n        chunks: chunks,\n        query: query,\n        topK: topK\n      });\n      if (resp.data.error) {\n        setError(resp.data.error);\n      } else {\n        setSnippets(resp.data.results);\n        setRefinedOrder([]);\n        toast.success('Top snippets found!');\n        setCurrentStep(3); // Move to step 3: refine/reorder\n      }\n    } catch (err) {\n      toast.error('Snippet search failed.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRefineOrder = async () => {\n    if (!snippets.length) return;\n    try {\n      setLoading(true);\n      setError(null);\n      const resp = await axios.post('http://localhost:5001/api/refine-snippets', {\n        snippets: snippets,\n        query: searchQuery\n      });\n      if (resp.data.error) {\n        setError(resp.data.error);\n      } else {\n        const newOrder = resp.data.order;\n        const reordered = newOrder.map(idx => snippets[idx]).filter(Boolean);\n        setSnippets(reordered);\n        toast.info('Snippets refined and reordered.');\n        setCurrentStep(4); // Move to step 4: create video\n      }\n    } catch (err) {\n      toast.error('Refining order failed.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCreateVideo = async finalSnippets => {\n    try {\n      setLoading(true);\n      setError(null);\n      setVideoPath(null);\n      const resp = await axios.post('http://localhost:5001/api/create-video', {\n        youtubeUrl: youtubeUrl,\n        snippets: finalSnippets\n      });\n      if (resp.data.error) {\n        setError(resp.data.error);\n      } else {\n        setVideoPath(resp.data.videoPath);\n        toast.success('Highlight video created!');\n        setCurrentStep(5); // Step 5: Download link\n      }\n    } catch (err) {\n      toast.error('Video creation failed.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-4 position-relative\",\n    children: [loading && /*#__PURE__*/_jsxDEV(LoadingOverlay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 3000,\n      hideProgressBar: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"progress-steps\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: currentStep >= 1 ? 'completed' : '',\n          children: \"1. Fetch Transcript\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: currentStep >= 2 ? 'completed' : '',\n          children: \"2. Search Snippets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: currentStep >= 3 ? 'completed' : '',\n          children: \"3. Refine Snippets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: currentStep >= 4 ? 'completed' : '',\n          children: \"4. Create Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: currentStep >= 5 ? 'completed' : '',\n          children: \"5. Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center gradient-text\",\n      children: \"AI Video Editor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoSearchForm, {\n      onFetchChunks: handleFetchChunks,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger my-3\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }, this), chunks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card my-4 p-3 animated-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Step 2: Search in Transcript\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Enter a query to find relevant parts:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"e.g. 'social media impact'\",\n          onChange: e => setSearchQuery(e.target.value),\n          value: searchQuery\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          ref: searchButtonRef,\n          onClick: () => handleSearch(searchQuery, 5),\n          disabled: !searchQuery || loading,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this), snippets.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card my-4 p-3 fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Relevant Snippets\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary mt-3\",\n        ref: refineButtonRef,\n        onClick: handleRefineOrder,\n        disabled: loading,\n        children: \"Refine / Reorder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SnippetEditor, {\n        snippets: snippets,\n        onCreateVideo: handleCreateVideo,\n        loading: loading,\n        createVideoButtonRef: createVideoButtonRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this), videoPath && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-3 my-4 fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Highlight Video Created!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Download or play your highlight video:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `http://localhost:5001/api/download-video/${videoPath.split('/').pop()}`,\n        className: \"btn btn-success\",\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        ref: downloadButtonRef,\n        children: \"Download / Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ifuEvTLaVRI6yPzU9eZV9GbRZ60=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoadingOverlay\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","VideoSearchForm","SnippetEditor","axios","ToastContainer","toast","jsxDEV","_jsxDEV","LoadingOverlay","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","_s","youtubeUrl","setYoutubeUrl","chunks","setChunks","searchQuery","setSearchQuery","snippets","setSnippets","refinedOrder","setRefinedOrder","loading","setLoading","videoPath","setVideoPath","error","setError","currentStep","setCurrentStep","searchButtonRef","refineButtonRef","createVideoButtonRef","downloadButtonRef","_searchButtonRef$curr","_refineButtonRef$curr","_createVideoButtonRef","_downloadButtonRef$cu","current","focus","handleFetchChunks","url","response","post","maxChunkSize","data","success","err","console","handleSearch","query","topK","length","resp","results","handleRefineOrder","newOrder","order","reordered","map","idx","filter","Boolean","info","handleCreateVideo","finalSnippets","position","autoClose","hideProgressBar","onFetchChunks","type","placeholder","onChange","e","target","value","ref","onClick","disabled","onCreateVideo","href","split","pop","rel","_c2","$RefreshReg$"],"sources":["/Users/niju/Desktop/Projects/AI_Video_Editor/client/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport VideoSearchForm from './components/VideoSearchForm';\nimport SnippetEditor from './components/SnippetEditor';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\n// A simple full-screen overlay spinner.\nfunction LoadingOverlay() {\n  return (\n    <div className=\"loading-overlay\">\n      <div className=\"spinner-border text-light\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  const [youtubeUrl, setYoutubeUrl] = useState('');\n  const [chunks, setChunks] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [snippets, setSnippets] = useState([]);\n  const [refinedOrder, setRefinedOrder] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [videoPath, setVideoPath] = useState(null);\n  const [error, setError] = useState(null);\n\n  // Track the current step to guide the user through the flow.\n  const [currentStep, setCurrentStep] = useState(1);\n\n  // Refs for auto-focusing the next action button/section.\n  const searchButtonRef = useRef(null);\n  const refineButtonRef = useRef(null);\n  const createVideoButtonRef = useRef(null);\n  const downloadButtonRef = useRef(null);\n\n  // Focus logic: whenever currentStep changes AND we're not loading, focus the next button.\n  useEffect(() => {\n    if (!loading) {\n      switch (currentStep) {\n        case 2:\n          // Focus the \"Search\" button in Step 2\n          searchButtonRef.current?.focus();\n          break;\n        case 3:\n          // Focus the \"Refine\" button in Step 3\n          refineButtonRef.current?.focus();\n          break;\n        case 4:\n          // Focus the \"Create Video\" button in Step 4 (within the SnippetEditor)\n          createVideoButtonRef.current?.focus();\n          break;\n        case 5:\n          // Focus the \"Download\" link/button in Step 5\n          downloadButtonRef.current?.focus();\n          break;\n        default:\n          break;\n      }\n    }\n  }, [currentStep, loading]);\n\n  const handleFetchChunks = async (url) => {\n    try {\n      setYoutubeUrl(url);\n      setLoading(true);\n      setError(null);\n      setSnippets([]);\n      setVideoPath(null);\n\n      const response = await axios.post('http://localhost:5001/api/transcript-chunks', {\n        youtubeUrl: url,\n        maxChunkSize: 200,\n      });\n      if (response.data.error) {\n        setError(response.data.error);\n      } else {\n        setChunks(response.data.chunks);\n        toast.success('Transcript chunks fetched successfully!');\n        setCurrentStep(2); // Move to step 2: searching in transcript\n      }\n    } catch (err) {\n      toast.error('Failed to fetch transcript chunks.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = async (query, topK = 5) => {\n    if (!chunks.length) return;\n    try {\n      setSearchQuery(query);\n      setLoading(true);\n      setError(null);\n      setVideoPath(null);\n\n      const resp = await axios.post('http://localhost:5001/api/search-snippets', {\n        chunks: chunks,\n        query: query,\n        topK: topK,\n      });\n      if (resp.data.error) {\n        setError(resp.data.error);\n      } else {\n        setSnippets(resp.data.results);\n        setRefinedOrder([]);\n        toast.success('Top snippets found!');\n        setCurrentStep(3); // Move to step 3: refine/reorder\n      }\n    } catch (err) {\n      toast.error('Snippet search failed.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRefineOrder = async () => {\n    if (!snippets.length) return;\n    try {\n      setLoading(true);\n      setError(null);\n\n      const resp = await axios.post('http://localhost:5001/api/refine-snippets', {\n        snippets: snippets,\n        query: searchQuery,\n      });\n      if (resp.data.error) {\n        setError(resp.data.error);\n      } else {\n        const newOrder = resp.data.order;\n        const reordered = newOrder.map((idx) => snippets[idx]).filter(Boolean);\n        setSnippets(reordered);\n        toast.info('Snippets refined and reordered.');\n        setCurrentStep(4); // Move to step 4: create video\n      }\n    } catch (err) {\n      toast.error('Refining order failed.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateVideo = async (finalSnippets) => {\n    try {\n      setLoading(true);\n      setError(null);\n      setVideoPath(null);\n      const resp = await axios.post('http://localhost:5001/api/create-video', {\n        youtubeUrl: youtubeUrl,\n        snippets: finalSnippets,\n      });\n      if (resp.data.error) {\n        setError(resp.data.error);\n      } else {\n        setVideoPath(resp.data.videoPath);\n        toast.success('Highlight video created!');\n        setCurrentStep(5); // Step 5: Download link\n      }\n    } catch (err) {\n      toast.error('Video creation failed.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container py-4 position-relative\">\n\n      {/* Full-Screen Loading Overlay */}\n      {loading && <LoadingOverlay />}\n\n      <ToastContainer position=\"top-right\" autoClose={3000} hideProgressBar={false} />\n\n      {/* Simple step indicator at the top (optional) */}\n      <div className=\"d-flex justify-content-center mb-3\">\n        <ol className=\"progress-steps\">\n          <li className={currentStep >= 1 ? 'completed' : ''}>1. Fetch Transcript</li>\n          <li className={currentStep >= 2 ? 'completed' : ''}>2. Search Snippets</li>\n          <li className={currentStep >= 3 ? 'completed' : ''}>3. Refine Snippets</li>\n          <li className={currentStep >= 4 ? 'completed' : ''}>4. Create Video</li>\n          <li className={currentStep >= 5 ? 'completed' : ''}>5. Download</li>\n        </ol>\n      </div>\n\n      <h1 className=\"text-center gradient-text\">AI Video Editor</h1>\n\n      {/* Step 1: Provide a YouTube URL and fetch transcript */}\n      <VideoSearchForm onFetchChunks={handleFetchChunks} loading={loading} />\n\n      {/* Error alert */}\n      {error && <div className=\"alert alert-danger my-3\">{error}</div>}\n\n      {/* Step 2: Search in transcript (visible only if chunks fetched) */}\n      {chunks.length > 0 && (\n        <div className=\"card my-4 p-3 animated-section\">\n          <h3>Step 2: Search in Transcript</h3>\n          <p>Enter a query to find relevant parts:</p>\n          <div className=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"e.g. 'social media impact'\"\n              onChange={(e) => setSearchQuery(e.target.value)}\n              value={searchQuery}\n            />\n            <button\n              className=\"btn btn-primary\"\n              ref={searchButtonRef}\n              onClick={() => handleSearch(searchQuery, 5)}\n              disabled={!searchQuery || loading}\n            >\n              Search\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 3 & 4: Show snippets, refine order, then create video */}\n      {snippets.length > 0 && (\n        <div className=\"card my-4 p-3 fade-in\">\n          <h3>Relevant Snippets</h3>\n          <button\n            className=\"btn btn-secondary mt-3\"\n            ref={refineButtonRef}\n            onClick={handleRefineOrder}\n            disabled={loading}\n          >\n            Refine / Reorder\n          </button>\n\n          <SnippetEditor\n            snippets={snippets}\n            onCreateVideo={handleCreateVideo}\n            loading={loading}\n            createVideoButtonRef={createVideoButtonRef}\n          />\n        </div>\n      )}\n\n      {/* Step 5: Download the created video */}\n      {videoPath && (\n        <div className=\"card p-3 my-4 fade-in\">\n          <h4>Highlight Video Created!</h4>\n          <p>Download or play your highlight video:</p>\n          <a\n            href={`http://localhost:5001/api/download-video/${videoPath.split('/').pop()}`}\n            className=\"btn btn-success\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            ref={downloadButtonRef}\n          >\n            Download / Play\n          </a>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}